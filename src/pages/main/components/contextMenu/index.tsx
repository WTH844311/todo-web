import './index.css'
import React, {FC} from 'react'
import {inject} from 'mobx-react'
import {Icon, DatePicker} from 'antd'
import {ContextMenu, MenuItem, SubMenu} from 'react-contextmenu'
import {IList} from "../../../../stores/types";

const ContextMenuGroup: FC<any> = ({listMenu_obj, taskMenu_obj, data, state, setListRenameVisible}) => {
  const {listAction, taskAction, lists} = data
  const week = ['日', '一', '二', '三', '四', '五', '六']
  const user_id = data.user.user_id
  if (!listMenu_obj && !taskMenu_obj) return null
  return (
    <>
      {/* ‘任务’ 清单菜单 */}
      <ContextMenu id="basicList-menu">
        <MenuItem onClick={listAction.cloneInbox}>
          <Icon type="copy"/>
          <span>复制列表</span>
        </MenuItem>
      </ContextMenu>
      {/* 用户清单菜单 */}
      <ContextMenu id="userList-menu">
        <MenuItem onClick={state.changeShareOptionModal}>
          <Icon type="user-add"/>
          <span>
            {listMenu_obj
              ? listMenu_obj.sharing_status !== 'NotShare'
                ? '共享选项'
                : '共享列表'
              : '共享列表'}
          </span>
        </MenuItem>
        <MenuItem onClick={() => listAction.cloneList(listMenu_obj)}>
          <Icon type="copy"/>
          <span>复制列表</span>
        </MenuItem>
        <MenuItem onClick={state.changeListStatisticsModal}>
          <Icon type='bar-chart'/>
          <span>统计详情</span>
        </MenuItem>
        <MenuItem divider/>
        {listMenu_obj.owner_id === user_id ? (
          <MenuItem onClick={() => listAction.deleteList(listMenu_obj.local_id)}>
            <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13935" width="1rem"
                 height="1rem">
              <path
                d="M814.134857 889.782857l29.586286-626.56h42.843428c17.572571 0 31.725714-14.573714 31.725715-32.146286s-14.153143-32.585143-31.725715-32.585142H699.282286V134.217143c0-61.293714-41.563429-101.138286-107.574857-101.138286h-160.274286c-66.011429 0-107.154286 39.862857-107.154286 101.12v64.292572H137.874286c-17.133714 0-32.146286 14.994286-32.146286 32.585142 0 17.554286 14.994286 32.146286 32.146286 32.146286h42.861714L210.285714 890.221714c2.998857 61.714286 43.702857 100.699429 105.435429 100.699429h392.996571c61.275429 0 102.418286-39.424 105.417143-101.12zM392.850286 138.496c0-24.429714 18.011429-41.563429 43.721143-41.563429h150.436571c26.148571 0 44.141714 17.133714 44.141714 41.563429v59.995429H392.850286z m-70.710857 788.150857c-24.868571 0-43.282286-18.870857-44.562286-43.702857l-29.988572-619.739429h527.542858l-28.269715 619.721143c-1.28 25.289143-19.291429 43.702857-44.580571 43.702857z m317.147428-75.428571c14.134857 0 24.868571-11.574857 25.289143-27.867429l12.854857-452.571428c0.420571-16.274286-10.715429-28.288-25.289143-28.288-13.275429 0-24.429714 12.434286-24.868571 27.867428l-12.836572 452.992c-0.438857 15.433143 10.276571 27.867429 24.850286 27.867429z m-254.134857 0c14.573714 0 25.270857-12.434286 24.850286-27.867429l-12.854857-452.992c-0.438857-15.433143-11.995429-27.867429-25.289143-27.867428-14.573714 0-25.289143 12.013714-24.868572 28.288l13.293715 452.571428c0.438857 16.292571 10.715429 27.867429 24.868571 27.867429z m152.996571-27.867429V370.358857c0-15.433143-11.574857-27.867429-25.728-27.867428-14.134857 0-26.148571 12.434286-26.148571 27.867428v452.992c0 15.433143 12.013714 27.867429 26.148571 27.867429 13.714286 0 25.728-12.434286 25.728-27.867429z"
                p-id="13936" fill="#db3a29"></path>
            </svg>
            <span className='menuItem-delete'>删除清单</span>
          </MenuItem>
        ) : (
          <MenuItem onClick={() => listAction.leaveList(user_id, listMenu_obj)}>
            <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13935" width="1rem"
                 height="1rem">
              <path
                d="M814.134857 889.782857l29.586286-626.56h42.843428c17.572571 0 31.725714-14.573714 31.725715-32.146286s-14.153143-32.585143-31.725715-32.585142H699.282286V134.217143c0-61.293714-41.563429-101.138286-107.574857-101.138286h-160.274286c-66.011429 0-107.154286 39.862857-107.154286 101.12v64.292572H137.874286c-17.133714 0-32.146286 14.994286-32.146286 32.585142 0 17.554286 14.994286 32.146286 32.146286 32.146286h42.861714L210.285714 890.221714c2.998857 61.714286 43.702857 100.699429 105.435429 100.699429h392.996571c61.275429 0 102.418286-39.424 105.417143-101.12zM392.850286 138.496c0-24.429714 18.011429-41.563429 43.721143-41.563429h150.436571c26.148571 0 44.141714 17.133714 44.141714 41.563429v59.995429H392.850286z m-70.710857 788.150857c-24.868571 0-43.282286-18.870857-44.562286-43.702857l-29.988572-619.739429h527.542858l-28.269715 619.721143c-1.28 25.289143-19.291429 43.702857-44.580571 43.702857z m317.147428-75.428571c14.134857 0 24.868571-11.574857 25.289143-27.867429l12.854857-452.571428c0.420571-16.274286-10.715429-28.288-25.289143-28.288-13.275429 0-24.429714 12.434286-24.868571 27.867428l-12.836572 452.992c-0.438857 15.433143 10.276571 27.867429 24.850286 27.867429z m-254.134857 0c14.573714 0 25.270857-12.434286 24.850286-27.867429l-12.854857-452.992c-0.438857-15.433143-11.995429-27.867429-25.289143-27.867428-14.573714 0-25.289143 12.013714-24.868572 28.288l13.293715 452.571428c0.438857 16.292571 10.715429 27.867429 24.868571 27.867429z m152.996571-27.867429V370.358857c0-15.433143-11.574857-27.867429-25.728-27.867428-14.134857 0-26.148571 12.434286-26.148571 27.867428v452.992c0 15.433143 12.013714 27.867429 26.148571 27.867429 13.714286 0 25.728-12.434286 25.728-27.867429z"
                p-id="13936" fill="#db3a29"></path>
            </svg>
            <span className='menuItem-delete'>离开列表</span>
          </MenuItem>
        )}
      </ContextMenu>
      {/* 任务菜单 */}
      <ContextMenu id="task-menu">
        <MenuItem onClick={() => taskAction.changeTaskMyday(taskMenu_obj)}>
          <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3838" width="1em"
               height="1em">
            <path
              d="M480 96v160h64V96zM240 195.008L195.008 240l112.992 114.016 46.016-46.016z m544 0l-114.016 112.992 46.016 46.016L828.992 240zM512 288c-123.36 0-224 100.64-224 224s100.64 224 224 224 224-100.64 224-224-100.64-224-224-224z m0 64c88.736 0 160 71.264 160 160s-71.264 160-160 160-160-71.264-160-160 71.264-160 160-160zM96 480v64h160v-64z m672 0v64h160v-64zM308 670.016L195.008 784 240 828.992l114.016-112.992z m408 0l-46.016 45.984 114.016 112.992 44.992-44.992zM480 768v160h64v-160z"
              p-id="3839" fill="#767678"></path>
          </svg>
          <span>{taskMenu_obj.myDay ? '从 “我的一天” 中删除' : '添加到 “我的一天”'}</span>
        </MenuItem>
        <MenuItem onClick={() => taskAction.changeTaskImportance(taskMenu_obj)}>
          <Icon type="star"/>
          <span>{taskMenu_obj.importance ? '删除重要标记' : '标记为重要'}</span>
        </MenuItem>
        <MenuItem onClick={() => taskAction.changeTaskCompleted(taskMenu_obj)}>
          {taskMenu_obj.completed ? (
            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14347" width="1rem"
                 height="1rem">
              <path
                d="M512 938.666667c235.648 0 426.666667-191.018667 426.666667-426.666667S747.648 85.333333 512 85.333333 85.333333 276.352 85.333333 512s191.018667 426.666667 426.666667 426.666667z m0 85.333333C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z"
                fill="#767678" p-id="14348"></path>
            </svg>
          ) : (
            <i className="icon svgIcon checkbox-completed-outline-20 checkBox-hover"
               style={{display: 'block', height: '24px', width: '18px'}}>
              <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="3 0 24 24">
                <g fillRule="evenodd">
                  <path
                    d="M12 20c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8m0-17c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9"></path>
                  <path d="M10.9902 13.3027l-2.487-2.51-.71.704 3.193 3.224 5.221-5.221-.707-.707z"></path>
                </g>
              </svg>
            </i>
          )}
          <span>标记为{taskMenu_obj.completed ? '未' : '已'}完成</span>
        </MenuItem>
        <MenuItem divider/>
        <MenuItem
          onClick={() => taskAction.setTaskDueDate(taskMenu_obj, new Date(new Date().setHours(0, 0, 0, 0)).toISOString())}>
          <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9078" width="1em"
               height="1em">
            <path
              d="M170.666667 896a85.333333 85.333333 0 0 1-85.333334-85.333333V213.333333a85.333333 85.333333 0 0 1 85.333334-85.333333h85.333333a42.666667 42.666667 0 0 1 42.666667-42.666667 42.666667 42.666667 0 0 1 42.666666 42.666667h341.333334a42.666667 42.666667 0 0 1 42.666666-42.666667 42.666667 42.666667 0 0 1 42.666667 42.666667h85.333333a85.333333 85.333333 0 0 1 85.333334 85.333333v597.333334a85.333333 85.333333 0 0 1-85.333334 85.333333z m0-101.333333c0 8.832 9.557333 16 21.333333 16h640c11.776 0 21.333333-7.168 21.333333-16V426.666667H170.666667zM170.666667 234.666667V341.333333h682.666666V234.666667a21.333333 21.333333 0 0 0-21.333333-21.333334H768a42.666667 42.666667 0 0 1-42.666667 42.666667 42.666667 42.666667 0 0 1-42.666666-42.666667H341.333333a42.666667 42.666667 0 0 1-42.666666 42.666667 42.666667 42.666667 0 0 1-42.666667-42.666667H192a21.333333 21.333333 0 0 0-21.333333 21.333334z m298.666666 469.333333v-170.666667a42.666667 42.666667 0 0 1 42.666667-42.666666 42.666667 42.666667 0 0 1 42.666667 42.666666v170.666667a42.666667 42.666667 0 0 1-42.666667 42.666667 42.666667 42.666667 0 0 1-42.666667-42.666667z"
              p-id="9079" fill="#767678"></path>
          </svg>
          <span>今天到期</span>
        </MenuItem>
        <MenuItem
          onClick={() => taskAction.setTaskDueDate(taskMenu_obj, new Date(new Date(Date.now() + 1 * 24 * 3600 * 1000).setHours(0, 0, 0, 0)).toISOString())}>
          <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12347" width="1rem"
               height="1rem">
            <path
              d="M928 336V226.24C928 207.36 912.64 192 893.76 192H784v11.2c0 17.6-14.4 32-32 32s-32-14.4-32-32V192h-416v11.2c0 17.6-14.4 32-32 32s-32-14.4-32-32V192H130.24C111.36 192 96 207.36 96 226.24v109.76h832z m0 509.76V400H96v445.76c0 18.88 15.36 34.24 34.24 34.24h763.52c18.88 0 34.24-15.36 34.24-34.24zM893.76 128C947.84 128 992 172.16 992 226.24v619.52c0 54.08-44.16 98.24-98.24 98.24H130.24C76.16 944 32 899.84 32 845.76V226.24C32 172.16 76.16 128 130.24 128H240V96c0-17.6 14.4-32 32-32s32 14.4 32 32v32h416V96c0-17.6 14.4-32 32-32s32 14.4 32 32v32h109.76zM451.872 710.144l-90.528-90.496a32 32 0 0 1 45.28-45.248l67.872 71.072 158.4-161.6a31.968 31.968 0 1 1 45.248 45.248l-180.992 181.024a31.904 31.904 0 0 1-45.28 0z"
              p-id="12348" fill="#767678"></path>
          </svg>
          <span>明天到期</span>
        </MenuItem>
        <MenuItem onClick={() => taskAction.setTaskDueDate(taskMenu_obj)}>
          <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8197" width="1em"
               height="1em">
            <path
              d="M288 128v32H160v704h704V160h-128V128h-64v32H352V128zM224 224h64v32h64V224h320v32h64V224h64v64H224z m0 128h576v448H224z m192 64v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64zM288 544v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64zM288 672v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64z"
              p-id="8198" fill="#767678"></path>
          </svg>
          <span>删除截止日期</span>
        </MenuItem>
        <MenuItem divider/>
        <MenuItem onClick={() => listAction.createNewListByTask(taskMenu_obj)}>
          <Icon type="plus"/>
          <span>根据此任务创建新列表</span>
        </MenuItem>
        <SubMenu title={
          <>
            <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="27068" width="1rem"
                 height="1rem">
              <path d="M171.050736 758.363339h246.363339v246.363339H171.050736z" fill="#767678" p-id="27069"></path>
              <path
                d="M852.739771 118.991817h-266.684125l45.669395-45.669395c7.332242-7.332242 7.332242-19.482815 0-26.815057s-19.482815-7.332242-26.815057 0l-78.140753 77.93126c-7.332242 7.332242-7.332242 19.482815 0 26.815057l78.140753 78.140753c3.770867 3.770867 8.589198 5.656301 13.407528 5.656301s9.636661-1.885434 13.407529-5.656301c7.332242-7.332242 7.332242-19.482815 0-26.815057l-45.669395-45.669394h247.620295v705.780687h-397.198036v-104.11784c0-10.474632-8.589198-19.06383-19.06383-19.063829H171.050736c-10.474632 0-19.06383 8.589198-19.063829 19.063829v246.363339c0 10.474632 8.589198 19.06383 19.063829 19.06383h246.363339c10.474632 0 19.06383-8.589198 19.06383-19.06383V900.818331h416.471359c10.474632 0 19.06383-8.589198 19.063829-19.06383v-743.698855c-0.209493-10.684124-8.798691-19.06383-19.273322-19.063829z m-454.389526 866.880523h-208.445171v-208.445171h208.445171v208.445171z"
                fill="#767678" p-id="27070"></path>
              <path
                d="M151.986907 388.818331v246.363338c0 10.474632 8.589198 19.06383 19.063829 19.06383h246.363339c10.474632 0 19.06383-8.589198 19.06383-19.06383V388.818331c0-10.474632-8.589198-19.06383-19.06383-19.06383H171.050736c-10.474632 0-19.06383 8.589198-19.063829 19.06383z m37.918167 19.063829h208.445171v208.445172h-208.445171v-208.445172zM417.414075 246.572831c-5.027823 0-9.846154 2.094926-13.407528 5.656302s-5.656301 8.379705-5.656302 13.407528 2.094926 9.846154 5.656302 13.407529 8.379705 5.656301 13.407528 5.656301 9.846154-2.094926 13.407529-5.656301 5.656301-8.379705 5.656301-13.407529-2.094926-9.846154-5.656301-13.407528c-3.561375-3.561375-8.379705-5.656301-13.407529-5.656302zM355.823241 246.572831c-10.474632 0-19.06383 8.589198-19.06383 19.06383s8.379705 19.06383 19.06383 19.06383c10.474632 0 19.06383-8.589198 19.063829-19.06383s-8.589198-19.06383-19.063829-19.06383zM232.641571 246.572831c-10.474632 0-19.06383 8.589198-19.06383 19.06383s8.589198 19.06383 19.06383 19.06383 19.06383-8.589198 19.06383-19.06383c-0.209493-10.474632-8.589198-19.06383-19.06383-19.06383zM294.232406 246.572831c-10.474632 0-19.06383 8.589198-19.06383 19.06383s8.379705 19.06383 19.06383 19.06383c10.474632 0 19.06383-8.589198 19.06383-19.06383-0.209493-10.474632-8.589198-19.06383-19.06383-19.06383zM171.050736 246.572831c-5.027823 0-9.846154 2.094926-13.407528 5.656302-3.561375 3.561375-5.656301 8.379705-5.656301 13.407528s2.094926 9.846154 5.656301 13.407529 8.379705 5.656301 13.407528 5.656301 9.846154-2.094926 13.407529-5.656301c3.561375-3.561375 5.656301-8.379705 5.656301-13.407529s-2.094926-9.846154-5.656301-13.407528c-3.561375-3.561375-8.379705-5.656301-13.407529-5.656302zM171.050736 184.981997c-10.474632 0-19.06383 8.379705-19.063829 19.06383 0 10.474632 8.589198 19.06383 19.063829 19.063829s19.06383-8.589198 19.06383-19.063829c-0.209493-10.474632-8.589198-19.06383-19.06383-19.06383zM171.050736 61.800327c-10.474632 0-19.06383 8.589198-19.063829 19.06383s8.589198 19.06383 19.063829 19.06383 19.06383-8.589198 19.06383-19.06383c-0.209493-10.684124-8.589198-19.06383-19.06383-19.06383zM171.050736 123.391162c-10.474632 0-19.06383 8.379705-19.063829 18.854337s8.589198 19.06383 19.063829 19.06383 19.06383-8.589198 19.06383-19.06383c-0.209493-10.265139-8.589198-18.854337-19.06383-18.854337zM171.050736 0.209493c-5.027823 0-9.846154 2.094926-13.407528 5.656301-3.561375 3.561375-5.656301 8.379705-5.656301 13.407528s2.094926 9.846154 5.656301 13.407529 8.379705 5.656301 13.407528 5.656301 9.846154-2.094926 13.407529-5.656301c3.561375-3.561375 5.446809-8.379705 5.446809-13.407529s-2.094926-9.846154-5.656301-13.407528c-3.351882-3.561375-8.379705-5.656301-13.198037-5.656301zM355.823241 0.209493c-10.474632 0-19.06383 8.379705-19.06383 19.063829 0 10.474632 8.379705 19.06383 19.06383 19.06383 10.474632 0 19.06383-8.589198 19.063829-19.06383 0-10.684124-8.589198-19.06383-19.063829-19.063829zM232.641571 0.209493c-10.474632 0-19.06383 8.379705-19.06383 19.063829 0 10.474632 8.379705 19.06383 19.06383 19.06383 10.474632 0 19.06383-8.589198 19.06383-19.06383-0.209493-10.684124-8.589198-19.06383-19.06383-19.063829zM294.232406 0.209493c-10.474632 0-19.06383 8.379705-19.06383 19.063829 0 10.474632 8.379705 19.06383 19.06383 19.06383 10.474632 0 19.06383-8.589198 19.06383-19.06383-0.209493-10.684124-8.589198-19.06383-19.06383-19.063829zM417.414075 38.12766c5.027823 0 9.846154-2.094926 13.407529-5.656302s5.656301-8.379705 5.656301-13.407528-2.094926-9.846154-5.656301-13.407529-8.379705-5.656301-13.407529-5.656301-9.846154 2.094926-13.407528 5.656301-5.656301 8.379705-5.656302 13.407529 2.094926 9.846154 5.656302 13.407528c3.561375 3.770867 8.379705 5.656301 13.407528 5.656302zM417.414075 184.981997c-10.474632 0-19.06383 8.379705-19.06383 18.854337s8.379705 19.06383 19.06383 19.06383c10.474632 0 19.06383-8.589198 19.06383-19.06383 0-10.265139-8.589198-18.854337-19.06383-18.854337zM417.414075 61.800327c-10.474632 0-19.06383 8.589198-19.06383 19.06383s8.379705 19.06383 19.06383 19.06383c10.474632 0 19.06383-8.589198 19.06383-19.06383 0-10.684124-8.589198-19.06383-19.06383-19.06383zM417.414075 123.391162c-10.474632 0-19.06383 8.379705-19.06383 19.06383 0 10.474632 8.379705 19.06383 19.06383 19.06383 10.474632 0 19.06383-8.589198 19.06383-19.06383s-8.589198-19.06383-19.06383-19.06383z"
                fill="#767678" p-id="27071"></path>
            </svg>
            <span>将任务移动到 ...</span>
            <svg className='submenu-next' viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="1223" width="1rem" height="1rem">
              <path
                d="M384.561539 905.148102c-12.365632 12.647041-32.082696 12.551874-44.161802-0.342808l-50.324152-53.724599c-12.023848-12.836353-11.748578-33.491789 0.654916-46.177715l266.968307-273.051863c12.385075-12.667507 12.005428-32.915667-0.891299-45.26595L279.229562 220.747613c-12.877285-12.332886-13.356193-32.516578-1.109264-45.040822l55.647392-56.909128c12.264325-12.542664 32.388664-12.401448 44.645826 0.008187l367.036397 371.605459c12.392238 12.546757 12.409634 32.975019 0.048095 45.616944L384.561539 905.148102z"
                p-id="1224"></path>
            </svg>
          </>
        }>
          <MenuItem onClick={() => taskAction.moveTaskToList(taskMenu_obj, '000000000000000000000000')}>
            <Icon type="home"/>
            <span>任务</span>
          </MenuItem>
          {(lists as IList[]).filter(l => l._id !== listMenu_obj._id).sort((a, b) => b.position - a.position).map(list => (
            <MenuItem key={list._id} onClick={() => taskAction.moveTaskToList(taskMenu_obj, list._id)}>
              <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32362" width="1rem"
                   height="1rem">
                <path
                  d="M160 128c-17.728 0-32 14.272-32 32v128c0 17.728 14.272 32 32 32h128c17.728 0 32-14.272 32-32v-128c0-17.728-14.272-32-32-32zM192 192h64v64H192z m256 0v64h448V192zM160 384c-17.728 0-32 14.272-32 32v128c0 17.728 14.272 32 32 32h128c17.728 0 32-14.272 32-32v-128c0-17.728-14.272-32-32-32zM192 448h64v64H192z m256 0v64h448V448z m-288 192c-17.728 0-32 14.272-32 32v128c0 17.728 14.272 32 32 32h128c17.728 0 32-14.272 32-32v-128c0-17.728-14.272-32-32-32z m32 64h64v64H192z m256 0v64h448v-64z"
                  fill="#767678" p-id="32363"></path>
              </svg>
              <span>{list.title}</span>
            </MenuItem>
          ))}
        </SubMenu>
        {taskMenu_obj.created_by === user_id && (
          <SubMenu title={
            <>
              <Icon type="copy"/>
              <span>将任务复制到 ...</span>
              <svg className='submenu-next' viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                   p-id="1223" width="1rem" height="1rem">
                <path
                  d="M384.561539 905.148102c-12.365632 12.647041-32.082696 12.551874-44.161802-0.342808l-50.324152-53.724599c-12.023848-12.836353-11.748578-33.491789 0.654916-46.177715l266.968307-273.051863c12.385075-12.667507 12.005428-32.915667-0.891299-45.26595L279.229562 220.747613c-12.877285-12.332886-13.356193-32.516578-1.109264-45.040822l55.647392-56.909128c12.264325-12.542664 32.388664-12.401448 44.645826 0.008187l367.036397 371.605459c12.392238 12.546757 12.409634 32.975019 0.048095 45.616944L384.561539 905.148102z"
                  p-id="1224"></path>
              </svg>
            </>
          }>
            <MenuItem onClick={() => taskAction.cloneTaskToList(taskMenu_obj, '000000000000000000000000')}>
              <Icon type="home"/>
              <span>任务</span>
            </MenuItem>
            {(lists as IList[]).filter(l => l._id !== listMenu_obj._id).sort((a, b) => b.position - a.position).map(list => (
              <MenuItem key={list._id} onClick={() => taskAction.cloneTaskToList(taskMenu_obj, list._id)}>
                <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32362"
                     width="1rem" height="1rem">
                  <path
                    d="M160 128c-17.728 0-32 14.272-32 32v128c0 17.728 14.272 32 32 32h128c17.728 0 32-14.272 32-32v-128c0-17.728-14.272-32-32-32zM192 192h64v64H192z m256 0v64h448V192zM160 384c-17.728 0-32 14.272-32 32v128c0 17.728 14.272 32 32 32h128c17.728 0 32-14.272 32-32v-128c0-17.728-14.272-32-32-32zM192 448h64v64H192z m256 0v64h448V448z m-288 192c-17.728 0-32 14.272-32 32v128c0 17.728 14.272 32 32 32h128c17.728 0 32-14.272 32-32v-128c0-17.728-14.272-32-32-32z m32 64h64v64H192z m256 0v64h448v-64z"
                    fill="#767678" p-id="32363"></path>
                </svg>
                <span>{list.title}</span>
              </MenuItem>
            ))}
          </SubMenu>
        )}
        <MenuItem divider/>
        <MenuItem onClick={() => taskAction.deleteTask(taskMenu_obj._id)}>
          <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13935" width="1rem"
               height="1rem">
            <path
              d="M814.134857 889.782857l29.586286-626.56h42.843428c17.572571 0 31.725714-14.573714 31.725715-32.146286s-14.153143-32.585143-31.725715-32.585142H699.282286V134.217143c0-61.293714-41.563429-101.138286-107.574857-101.138286h-160.274286c-66.011429 0-107.154286 39.862857-107.154286 101.12v64.292572H137.874286c-17.133714 0-32.146286 14.994286-32.146286 32.585142 0 17.554286 14.994286 32.146286 32.146286 32.146286h42.861714L210.285714 890.221714c2.998857 61.714286 43.702857 100.699429 105.435429 100.699429h392.996571c61.275429 0 102.418286-39.424 105.417143-101.12zM392.850286 138.496c0-24.429714 18.011429-41.563429 43.721143-41.563429h150.436571c26.148571 0 44.141714 17.133714 44.141714 41.563429v59.995429H392.850286z m-70.710857 788.150857c-24.868571 0-43.282286-18.870857-44.562286-43.702857l-29.988572-619.739429h527.542858l-28.269715 619.721143c-1.28 25.289143-19.291429 43.702857-44.580571 43.702857z m317.147428-75.428571c14.134857 0 24.868571-11.574857 25.289143-27.867429l12.854857-452.571428c0.420571-16.274286-10.715429-28.288-25.289143-28.288-13.275429 0-24.429714 12.434286-24.868571 27.867428l-12.836572 452.992c-0.438857 15.433143 10.276571 27.867429 24.850286 27.867429z m-254.134857 0c14.573714 0 25.270857-12.434286 24.850286-27.867429l-12.854857-452.992c-0.438857-15.433143-11.995429-27.867429-25.289143-27.867428-14.573714 0-25.289143 12.013714-24.868572 28.288l13.293715 452.571428c0.438857 16.292571 10.715429 27.867429 24.868571 27.867429z m152.996571-27.867429V370.358857c0-15.433143-11.574857-27.867429-25.728-27.867428-14.134857 0-26.148571 12.434286-26.148571 27.867428v452.992c0 15.433143 12.013714 27.867429 26.148571 27.867429 13.714286 0 25.728-12.434286 25.728-27.867429z"
              p-id="13936" fill="#db3a29"></path>
          </svg>
          <span className='menuItem-delete'>删除任务</span>
        </MenuItem>
      </ContextMenu>
      {/* 清单选项 */}
      <ContextMenu id='listOptions-menu'>
        <div className='menu-title'>
          <MenuItem disabled>
            <span className='menuTitle-span'>列表选项</span>
          </MenuItem>
        </div>
        <MenuItem divider/>
        {!listMenu_obj.defaultList && (
          <MenuItem onClick={setListRenameVisible}>
            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15115" width="20"
                 height="20">
              <path
                d="M941.229769 133.982769v491.283331H360.625877v89.325382h89.32056v44.662209H181.976078v-44.662209h69.569274v-89.325382H92.645874V133.982769h158.899478V44.662209H181.976078v-44.662209h267.970359V44.662209h-89.32056v89.32056h580.603892zM360.625877 580.602927h535.941683V178.649799H360.625877v401.953128zM251.544388 178.649799H137.308083v401.953128h114.236305V178.649799z m198.402049 133.987591h89.330204v89.32056h-89.330204v-89.32056z m133.977947 0h89.325381v89.32056h-89.325381v-89.32056z m133.992412 0h89.32056v89.32056h-89.32056v-89.32056z"
                p-id="15116" fill="#767678"></path>
            </svg>
            <span>重命名清单</span>
          </MenuItem>
        )}
        {!listMenu_obj.defaultList && (
          <SubMenu title={
            <>
              <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5729" width="1rem"
                   height="1rem">
                <path
                  d="M811.985 328.552c-57.14 0-101.498 44.358-101.498 101.498s44.358 101.498 101.498 101.498 101.497-44.359 101.497-101.498c0.752-57.14-44.358-101.498-101.497-101.498z m0 163.9c-35.337 0-62.403-27.066-62.403-62.402s27.066-62.402 62.403-62.402c35.336 0 62.402 27.066 62.402 62.402s-26.314 62.402-62.402 62.402z m-600.717-163.9c-57.14 0-101.498 44.358-101.498 101.498s44.358 101.498 101.498 101.498 101.498-44.359 101.498-101.498-44.359-101.498-101.498-101.498z m0 163.9c-35.336 0-62.402-27.066-62.402-62.402s27.066-62.402 62.402-62.402 62.402 27.066 62.402 62.402-27.066 62.402-62.402 62.402z m539.066-281.186c0-57.14-44.358-101.498-101.498-101.498s-101.498 44.358-101.498 101.498 44.359 101.498 101.498 101.498c56.388 0 101.498-44.359 101.498-101.498z m-102.25 62.402c-35.336 0-62.402-27.066-62.402-62.402s27.066-62.403 62.402-62.403 62.403 27.067 62.403 62.403-26.314 62.402-62.403 62.402z m-272.916-163.9c-57.14 0-101.498 44.358-101.498 101.498s44.359 101.498 101.498 101.498 101.498-44.359 101.498-101.498-44.358-101.498-101.498-101.498z m0 163.9c-35.336 0-62.402-27.066-62.402-62.402s27.066-62.403 62.402-62.403 62.402 27.067 62.402 62.403-27.066 62.402-62.402 62.402z"
                  fill="#767678" p-id="5730"></path>
                <path
                  d="M272.167 921.75l62.402 27.818c54.884 22.555 115.03 34.585 177.433 34.585 35.336 0 62.403-27.066 62.403-62.403 0-15.788-6.015-30.073-15.789-40.599-18.044-18.044-27.818-42.103-27.818-68.417 0-57.14 44.358-101.498 101.498-101.498h98.49c139.842 0 253.369-113.527 253.369-253.368 0-230.062-212.018-417.269-472.153-417.269C251.115 39.847 39.85 251.865 39.85 512c0 124.053 43.607 231.565 121.798 316.523 3.759 15.036-3.007 25.562-16.54 26.314-9.023 0.752-18.796-8.27-18.796-8.27l-4.511-3.76c-4.511-5.262-8.27-9.773-12.782-15.036C41.353 740.558 0.002 630.79 0.002 512 0.002 230.062 229.312 0.752 511.25 0.752S1022.5 206.002 1022.5 457.868c0 161.644-131.572 293.216-293.216 293.216h-96.987c-35.336 0-62.402 27.066-62.402 62.402 0 15.789 6.014 30.073 15.788 40.6 18.044 18.043 27.818 42.102 27.818 68.416 0 57.14-44.358 101.498-101.498 101.498-93.227 0-180.44-24.81-255.624-68.417-0.752-0.752-17.292-28.57 15.789-33.833z"
                  fill="#767678" p-id="5731"></path>
              </svg>
              <span>更改主题</span>
              <svg className='submenu-next' viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                   p-id="1223" width="1rem" height="1rem">
                <path
                  d="M384.561539 905.148102c-12.365632 12.647041-32.082696 12.551874-44.161802-0.342808l-50.324152-53.724599c-12.023848-12.836353-11.748578-33.491789 0.654916-46.177715l266.968307-273.051863c12.385075-12.667507 12.005428-32.915667-0.891299-45.26595L279.229562 220.747613c-12.877285-12.332886-13.356193-32.516578-1.109264-45.040822l55.647392-56.909128c12.264325-12.542664 32.388664-12.401448 44.645826 0.008187l367.036397 371.605459c12.392238 12.546757 12.409634 32.975019 0.048095 45.616944L384.561539 905.148102z"
                  p-id="1224"></path>
              </svg>
            </>
          }>
            <MenuItem className='color-picker'>
              <div className='theme blue' onClick={() => listAction.changeListTheme(listMenu_obj, 'blue')}></div>
              <div className='theme red' onClick={() => listAction.changeListTheme(listMenu_obj, 'red')}></div>
              <div className='theme purple' onClick={() => listAction.changeListTheme(listMenu_obj, 'purple')}></div>
              <div className='theme green' onClick={() => listAction.changeListTheme(listMenu_obj, 'green')}></div>
              <div className='theme skyblue'
                   onClick={() => listAction.changeListTheme(listMenu_obj, 'skyblue')}></div>
            </MenuItem>
          </SubMenu>
        )}
        <MenuItem onClick={() => listAction.changeListShowCompleted(listMenu_obj)}>
          <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13574" width="1rem"
               height="1rem">
            <path
              d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m0 967.111c-250.311 0-455.111-204.8-455.111-455.111S261.689 56.889 512 56.889 967.111 261.689 967.111 512 762.311 967.111 512 967.111z m0 0"
              fill="#333333" p-id="13575"></path>
            <path
              d="M455.111 691.2c-14.222 0-28.444-5.689-39.822-17.067L264.533 531.911c-11.377-11.378-11.377-28.444 0-39.822s28.445-11.378 39.823 0L455.11 634.31l264.533-256c11.378-11.378 28.445-11.378 39.823 0s11.377 28.445 0 39.822l-264.534 256c-11.377 11.378-25.6 17.067-39.822 17.067z m0 0"
              fill="#333333" p-id="13576"></path>
          </svg>
          <span>{listMenu_obj.show_completed ? '隐藏已完成任务' : '显示完成的任务'}</span>
        </MenuItem>
        {!listMenu_obj.defaultList && (
          listMenu_obj.owner_id === user_id ? (
            <MenuItem onClick={() => listAction.deleteList(listMenu_obj.local_id)}>
              <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13935" width="1rem"
                   height="1rem">
                <path
                  d="M814.134857 889.782857l29.586286-626.56h42.843428c17.572571 0 31.725714-14.573714 31.725715-32.146286s-14.153143-32.585143-31.725715-32.585142H699.282286V134.217143c0-61.293714-41.563429-101.138286-107.574857-101.138286h-160.274286c-66.011429 0-107.154286 39.862857-107.154286 101.12v64.292572H137.874286c-17.133714 0-32.146286 14.994286-32.146286 32.585142 0 17.554286 14.994286 32.146286 32.146286 32.146286h42.861714L210.285714 890.221714c2.998857 61.714286 43.702857 100.699429 105.435429 100.699429h392.996571c61.275429 0 102.418286-39.424 105.417143-101.12zM392.850286 138.496c0-24.429714 18.011429-41.563429 43.721143-41.563429h150.436571c26.148571 0 44.141714 17.133714 44.141714 41.563429v59.995429H392.850286z m-70.710857 788.150857c-24.868571 0-43.282286-18.870857-44.562286-43.702857l-29.988572-619.739429h527.542858l-28.269715 619.721143c-1.28 25.289143-19.291429 43.702857-44.580571 43.702857z m317.147428-75.428571c14.134857 0 24.868571-11.574857 25.289143-27.867429l12.854857-452.571428c0.420571-16.274286-10.715429-28.288-25.289143-28.288-13.275429 0-24.429714 12.434286-24.868571 27.867428l-12.836572 452.992c-0.438857 15.433143 10.276571 27.867429 24.850286 27.867429z m-254.134857 0c14.573714 0 25.270857-12.434286 24.850286-27.867429l-12.854857-452.992c-0.438857-15.433143-11.995429-27.867429-25.289143-27.867428-14.573714 0-25.289143 12.013714-24.868572 28.288l13.293715 452.571428c0.438857 16.292571 10.715429 27.867429 24.868571 27.867429z m152.996571-27.867429V370.358857c0-15.433143-11.574857-27.867429-25.728-27.867428-14.134857 0-26.148571 12.434286-26.148571 27.867428v452.992c0 15.433143 12.013714 27.867429 26.148571 27.867429 13.714286 0 25.728-12.434286 25.728-27.867429z"
                  p-id="13936" fill="#db3a29"></path>
              </svg>
              <span className='menuItem-delete'>删除清单</span>
            </MenuItem>
          ) : (
            <MenuItem onClick={() => listAction.leaveList(user_id, listMenu_obj)}>
              <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13935" width="1rem"
                   height="1rem">
                <path
                  d="M814.134857 889.782857l29.586286-626.56h42.843428c17.572571 0 31.725714-14.573714 31.725715-32.146286s-14.153143-32.585143-31.725715-32.585142H699.282286V134.217143c0-61.293714-41.563429-101.138286-107.574857-101.138286h-160.274286c-66.011429 0-107.154286 39.862857-107.154286 101.12v64.292572H137.874286c-17.133714 0-32.146286 14.994286-32.146286 32.585142 0 17.554286 14.994286 32.146286 32.146286 32.146286h42.861714L210.285714 890.221714c2.998857 61.714286 43.702857 100.699429 105.435429 100.699429h392.996571c61.275429 0 102.418286-39.424 105.417143-101.12zM392.850286 138.496c0-24.429714 18.011429-41.563429 43.721143-41.563429h150.436571c26.148571 0 44.141714 17.133714 44.141714 41.563429v59.995429H392.850286z m-70.710857 788.150857c-24.868571 0-43.282286-18.870857-44.562286-43.702857l-29.988572-619.739429h527.542858l-28.269715 619.721143c-1.28 25.289143-19.291429 43.702857-44.580571 43.702857z m317.147428-75.428571c14.134857 0 24.868571-11.574857 25.289143-27.867429l12.854857-452.571428c0.420571-16.274286-10.715429-28.288-25.289143-28.288-13.275429 0-24.429714 12.434286-24.868571 27.867428l-12.836572 452.992c-0.438857 15.433143 10.276571 27.867429 24.850286 27.867429z m-254.134857 0c14.573714 0 25.270857-12.434286 24.850286-27.867429l-12.854857-452.992c-0.438857-15.433143-11.995429-27.867429-25.289143-27.867428-14.573714 0-25.289143 12.013714-24.868572 28.288l13.293715 452.571428c0.438857 16.292571 10.715429 27.867429 24.868571 27.867429z m152.996571-27.867429V370.358857c0-15.433143-11.574857-27.867429-25.728-27.867428-14.134857 0-26.148571 12.434286-26.148571 27.867428v452.992c0 15.433143 12.013714 27.867429 26.148571 27.867429 13.714286 0 25.728-12.434286 25.728-27.867429z"
                  p-id="13936" fill="#db3a29"></path>
              </svg>
              <span className='menuItem-delete'>离开列表</span>
            </MenuItem>
          )
        )}
      </ContextMenu>
      {/* 排序选单 */}
      <ContextMenu id='listOptions-sort'>
        <div className='menu-title'>
          <MenuItem disabled>
            <span className='menuTitle-span'>排序依据</span>
          </MenuItem>
        </div>
        <MenuItem divider/>
        <MenuItem onClick={() => listAction.changeListSortType(listMenu_obj, 1)}>
          <Icon type='star'/>
          <span>重要性</span>
        </MenuItem>
        <MenuItem onClick={() => listAction.changeListSortType(listMenu_obj, 2)}>
          <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8197" width="1em"
               height="1em">
            <path
              d="M288 128v32H160v704h704V160h-128V128h-64v32H352V128zM224 224h64v32h64V224h320v32h64V224h64v64H224z m0 128h576v448H224z m192 64v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64zM288 544v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64zM288 672v64h64v-64z m128 0v64h64v-64z m128 0v64h64v-64z"
              p-id="8198" fill="#767678"></path>
          </svg>
          <span>截止日期</span>
        </MenuItem>
        {listMenu_obj._id !== 'myday' && (
          <MenuItem onClick={() => listAction.changeListSortType(listMenu_obj, 3)}>
            <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3838" width="1rem"
                 height="1rem">
              <path
                d="M480 96v160h64V96zM240 195.008L195.008 240l112.992 114.016 46.016-46.016z m544 0l-114.016 112.992 46.016 46.016L828.992 240zM512 288c-123.36 0-224 100.64-224 224s100.64 224 224 224 224-100.64 224-224-100.64-224-224-224z m0 64c88.736 0 160 71.264 160 160s-71.264 160-160 160-160-71.264-160-160 71.264-160 160-160zM96 480v64h160v-64z m672 0v64h160v-64zM308 670.016L195.008 784 240 828.992l114.016-112.992z m408 0l-46.016 45.984 114.016 112.992 44.992-44.992zM480 768v160h64v-160z"
                p-id="3839" fill="#767678"></path>
            </svg>
            <span>已添加到 “我的一天”</span>
          </MenuItem>
        )}
        <MenuItem onClick={() => listAction.changeListSortType(listMenu_obj, 4)}>
          <svg viewBox="0 0 1015 1015" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13574" width="1rem"
               height="1rem">
            <path
              d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m0 967.111c-250.311 0-455.111-204.8-455.111-455.111S261.689 56.889 512 56.889 967.111 261.689 967.111 512 762.311 967.111 512 967.111z m0 0"
              fill="#767678" p-id="13575"></path>
            <path
              d="M455.111 691.2c-14.222 0-28.444-5.689-39.822-17.067L264.533 531.911c-11.377-11.378-11.377-28.444 0-39.822s28.445-11.378 39.823 0L455.11 634.31l264.533-256c11.378-11.378 28.445-11.378 39.823 0s11.377 28.445 0 39.822l-264.534 256c-11.377 11.378-25.6 17.067-39.822 17.067z m0 0"
              fill="#767678" p-id="13576"></path>
          </svg>
          <span>已完成</span>
        </MenuItem>
        {/* <MenuItem>
                        <svg viewBox="64 64 896 896" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="38863" width="1rem" height="1rem"><path d="M922.345786 372.183628l-39.393195 38.687114L676.138314 211.079416l0 683.909301-54.713113 0L621.425202 129.010259l53.320393 0L922.345786 372.183628zM349.254406 894.989741 101.654214 651.815349l39.393195-38.687114 206.814276 199.792349L347.861686 129.010259l54.713113 0 0 765.978459L349.254406 894.988718z" p-id="38864" fill="#767678"></path></svg>
                        <span>
                            字母顺序
                        </span>
                    </MenuItem> */}
        <MenuItem onClick={() => listAction.changeListSortType(listMenu_obj, 6)}>
          <svg viewBox="0 0 1072 1056" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19020" width="1rem"
               height="1rem">
            <path
              d="M1005.037037 94.814815h-113.777778v75.851852h75.851852c22.755556 0 37.925926 15.17037 37.925926 37.925926v682.666666c0 22.755556-15.17037 37.925926-37.925926 37.925926h-834.37037c-22.755556 0-37.925926-15.17037-37.925926-37.925926v-682.666666c0-22.755556 15.17037-37.925926 37.925926-37.925926h75.851852v-75.851852h-113.777778c-41.718519 0-75.851852 34.133333-75.851852 75.851852v758.518518c0 41.718519 34.133333 75.851852 75.851852 75.851852h910.222222c41.718519 0 75.851852-34.133333 75.851852-75.851852v-758.518518c0-41.718519-34.133333-75.851852-75.851852-75.851852z"
              p-id="19021" fill="#767678"></path>
            <path
              d="M322.37037 246.518519c22.755556 0 37.925926-15.17037 37.925926-37.925926v-37.925926h379.25926v37.925926c0 22.755556 15.17037 37.925926 37.925925 37.925926s37.925926-15.17037 37.925926-37.925926v-151.703704c0-22.755556-15.17037-37.925926-37.925926-37.925926s-37.925926 15.17037-37.925925 37.925926v37.925926h-379.25926v-37.925926c0-22.755556-15.17037-37.925926-37.925926-37.925926s-37.925926 15.17037-37.925926 37.925926v151.703704c0 22.755556 15.17037 37.925926 37.925926 37.925926zM549.925926 739.555556c22.755556 0 37.925926-15.17037 37.925926-37.925926v-113.777778h113.777778c22.755556 0 37.925926-15.17037 37.925926-37.925926s-15.17037-37.925926-37.925926-37.925926h-113.777778v-113.777778c0-22.755556-15.17037-37.925926-37.925926-37.925926s-37.925926 15.17037-37.925926 37.925926v113.777778h-113.777778c-22.755556 0-37.925926 15.17037-37.925926 37.925926s15.17037 37.925926 37.925926 37.925926h113.777778v113.777778c0 22.755556 15.17037 37.925926 37.925926 37.925926z"
              p-id="19022" fill="#767678"></path>
          </svg>
          <span>创建日期</span>
        </MenuItem>
      </ContextMenu>
      {/* 提醒 */}
      <ContextMenu id='taskSchedule-remind'>
        <div className='menu-title'>
          <MenuItem disabled>
            <span className='menuTitle-span'>提醒</span>
          </MenuItem>
        </div>
        <MenuItem divider/>
        <MenuItem
          onClick={() => taskAction.setTaskReminder(taskMenu_obj, new Date(new Date().setHours(new Date().getHours() + 3, 0, 0, 0)).toISOString())}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <g fillRule="evenodd">
              <path
                d="M15.98 10H20V6h-1v2.149C17.618 5.625 14.947 4 12 4c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8h-1c0 3.859-3.14 7-7 7s-7-3.141-7-7 3.14-7 7-7c2.716 0 5.152 1.587 6.294 4H15.98v1z"
                fill="#767678"></path>
              <path d="M11 8v5h4v-1h-3V8z" fill="#767678"></path>
            </g>
          </svg>
          <span>今日晚些时候</span>
          <span
            className='taskSchedule-detail'>{new Date(new Date().setHours(new Date().getHours() + 3, 0, 0, 0)).toTimeString().substring(0, 5)}</span>
        </MenuItem>
        <MenuItem
          onClick={() => taskAction.setTaskReminder(taskMenu_obj, new Date(new Date(Date.now() + 24 * 3600 * 1000).setHours(new Date().getHours(), 0, 0, 0)).toISOString())}>
          <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23997" width="1rem"
               height="1rem">
            <path
              d="M512 32C246.00000031 32 32 246.00000031 32 512s214.00000031 480 480 480 480-214.00000031 480-480S777.99999969 32 512 32z m0 900C279.99999969 932 92 744.00000031 92 512S279.99999969 92 512 92s420 187.99999969 420 420-187.99999969 420-420 420z"
              fill="#767678" p-id="23998"></path>
            <path
              d="M578 321.99999969c-12-12-30-12-42 0-12 12-12 30 0 42l118.00000031 118.00000031L296 482c-16.00000031 0-30 13.99999969-30 30s13.99999969 30 30 30l358.00000031 0-118.00000031 118.00000031c-12 12-12 30 0 42 12 12 30 12 42 0l169.99999969-170.00000063c12-12 12-30 0-41.99999999l-169.99999969-168z"
              fill="#767678" p-id="23999"></path>
          </svg>
          <span>明天</span>
          <span className='taskSchedule-detail'>
                            {`周${week[new Date(Date.now() + 24 * 3600 * 1000).getDay()]}, `}
            {new Date(new Date(Date.now() + 24 * 3600 + 1000).setHours(new Date().getHours(), 0, 0, 0)).toTimeString().substring(0, 5)}
                        </span>
        </MenuItem>
        <MenuItem
          onClick={() => taskAction.setTaskReminder(taskMenu_obj, new Date(new Date(Date.now() + 7 * 24 * 3600 * 1000).setHours(new Date().getHours(), 0, 0, 0)).toISOString())}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <g fillRule="evenodd">
              <path
                d="M13.1035 14.8535l-.707-.707 2.146-2.147-2.146-2.146.707-.707 2.854 2.853zm-4 0l-.707-.707 2.146-2.147-2.146-2.146.707-.707 2.854 2.853z"
                fill="#767678"></path>
              <path
                d="M5 12c0 3.859 3.14 7 7 7s7-3.141 7-7-3.14-7-7-7-7 3.141-7 7zm-1 0c0-4.411 3.589-8 8-8s8 3.589 8 8-3.589 8-8 8-8-3.589-8-8z"
                fill="#767678"></path>
            </g>
          </svg>
          <span>下周</span>
          <span className='taskSchedule-detail'>
            {`周${week[new Date().getDay()]}, `}
            {new Date(new Date(Date.now() + 7 * 24 * 3600 * 1000).setHours(new Date().getHours(), 0, 0, 0)).toTimeString().substring(0, 5)}
          </span>
        </MenuItem>
        <MenuItem divider/>
        <MenuItem>
          <DatePicker
            showTime
            placeholder="选择日期和时间"
            onOk={e => {
              // @ts-ignore
              taskAction.setTaskReminder(taskMenu_obj, new Date(e?._id ? e._id : null).toISOString())
            }}
          />
        </MenuItem>
      </ContextMenu>
      {/* 添加截止日期 */}
      <ContextMenu id='taskSchedule-deadline'>
        <div className='menu-title'>
          <MenuItem disabled>
            <span className='menuTitle-span'>截止</span>
          </MenuItem>
        </div>
        <MenuItem divider/>
        <MenuItem
          onClick={() => taskAction.setTaskDueDate(taskMenu_obj, new Date(new Date().setHours(0, 0, 0, 0)).toISOString())}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <g fillRule="evenodd">
              <path
                d="M15.9997 4.9997h1v1h3.001v14H3.9997v-14h3v-1h1v1h8v-1zm-11 14h14v-9h-14v9zm12-10.999h-1V7l-8 .0007v1h-1V7h-2v2.0007h14.001V7h-2.001v1.0007z"
                fill="#767678"></path>
              <path d="M11 15h2v-2h-2v2zm-1 1h4v-4h-4v4z" fill="#767678"></path>
            </g>
          </svg>
          <span>今天</span>
          <span className='taskSchedule-detail'>周{week[new Date().getDay()]}</span>
        </MenuItem>
        <MenuItem
          onClick={() => taskAction.setTaskDueDate(taskMenu_obj, new Date(new Date(Date.now() + 1 * 24 * 3600 * 1000).setHours(0, 0, 0, 0)).toISOString())}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <g fillRule="evenodd">
              <path
                d="M15.9997 4.9997h1v1h3.001v14H3.9997v-14h3v-1h1v1h8v-1zm-11 14h14v-9h-14v9zm12-10.999h-1l.0003-1H7.9997v1h-1v-1h-2v2h14.001v-2h-2.001v1z"
                fill="#767678"></path>
              <path d="M11.6465 16.6465l.707.707 2.854-2.853-2.854-2.854-.707.707 1.646 1.647h-4.292v1h4.292z"
                    fill="#767678"></path>
            </g>
          </svg>
          <span>明天</span>
          <span className='taskSchedule-detail'>周{week[new Date(Date.now() + 24 * 3600 * 1000).getDay()]}</span>
        </MenuItem>
        <MenuItem
          onClick={() => taskAction.setTaskDueDate(taskMenu_obj, new Date(new Date(Date.now() + 7 * 24 * 3600 * 1000).setHours(0, 0, 0, 0)).toISOString())}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <g fillRule="evenodd">
              <path
                d="M15.9997 4.9997h1v1h3.001v14H3.9997v-14h3v-1h1v1h8v-1zm-11 14h14v-9h-14v9zm12-10.999h-1v-1h-8v1h-1v-1h-2v2h14.001l-.001-2h-2v1z"
                fill="#767678"></path>
              <path
                d="M13.3535 17.3535l2.854-2.854-2.854-2.853-.707.707 2.146 2.146-2.146 2.147zm-4 0l2.854-2.854-2.854-2.853-.707.707 2.146 2.146-2.146 2.147z"
                fill="#767678"></path>
            </g>
          </svg>
          <span>下周</span>
          <span className='taskSchedule-detail'>周{week[new Date().getDay()]}</span>
        </MenuItem>
        <MenuItem divider/>
        <MenuItem>
          <DatePicker
            placeholder="选择日期"
            onChange={e => {
              // @ts-ignore
              taskAction.setTaskDueDate(taskMenu_obj, new Date(e?._d).toISOString())
            }}
          />
        </MenuItem>
      </ContextMenu>
      {/* 重复 */}
      <ContextMenu id='taskSchedule-repeat'>
        <div className='menu-title'>
          <MenuItem disabled><span className='menuTitle-span'>重复</span></MenuItem>
        </div>
        <MenuItem divider/>
        <MenuItem onClick={() => taskAction.setTaskRecurrence(taskMenu_obj, 1)}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <path fillRule="evenodd"
                  d="M6.9997 10.0001h1v4h-4v-4h3zm-2 3h2v-2h-2v2zM11 10h3v4h-4v-4h1zm0 3h2v-2h-2v2zm-1-8.9998h4v4L10 8V4.0002zm1 3h2v-2h-2v2zM4 16h4v4H4v-4zm1 3h2v-2H5v2zm5-3h4v4h-4v-4zm1 3h2v-2h-2v2zm5-9h4.001v4H16v-4zm1 3h2.001v-2H17v2zm-1.001-9H20v4h-4.001V4zm1 3H19V5h-2.001v2z"
                  fill="#767678"></path>
          </svg>
          <span>每天</span>
        </MenuItem>
        <MenuItem onClick={() => taskAction.setTaskRecurrence(taskMenu_obj, 2)}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <path fillRule="evenodd"
                  d="M19 6c0-.553-.448-1-1-1s-1 .447-1 1c0 .553.448 1 1 1s1-.447 1-1zm-2 6c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zM5 10h3v4H4v-4h1zm0 3h2v-2H5v2zm6-3h3v4h-4v-4h1zm0 3h2v-2h-2v2zm-6 3h3v4H4v-4h1zm0 3h2v-2H5v2zm6-3h3v4h-4v-4h1zm0 3h2v-2h-2v2zm0-15h3v4h-4V4h1zm0 3h2V5h-2v2z"
                  fill="#767678"></path>
          </svg>
          <span>工作日</span>
        </MenuItem>
        <MenuItem onClick={() => taskAction.setTaskRecurrence(taskMenu_obj, 3)}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <path fillRule="evenodd"
                  d="M19 6c0-.553-.448-1-1-1s-1 .447-1 1c0 .553.448 1 1 1s1-.447 1-1zm-2 6c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zM5 12c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zm0 6c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zm6-8h3v4h-4v-4h1zm0 3h2v-2h-2v2zm0 3h3v4h-4v-4h1zm0 3h2v-2h-2v2zm0-15h3v4h-4V4h1zm0 3h2V5h-2v2z"
                  fill="#767678"></path>
          </svg>
          <span>每周</span>
        </MenuItem>
        <MenuItem onClick={() => taskAction.setTaskRecurrence(taskMenu_obj, 4)}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <path fillRule="evenodd"
                  d="M19 6c0-.553-.448-1-1-1s-1 .447-1 1c0 .553.448 1 1 1s1-.447 1-1zm-2 6c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zm-6 0c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zm0 6c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zm-6-6c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zm0 6c0 .553.448 1 1 1s1-.447 1-1c0-.553-.448-1-1-1s-1 .447-1 1zm6-14h3v4h-4V4h1zm0 3h2V5h-2v2z"
                  fill="#767678"></path>
          </svg>
          <span>每月</span>
        </MenuItem>
        <MenuItem onClick={() => taskAction.setTaskRecurrence(taskMenu_obj, 5)}>
          <svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="3 2 20 20">
            <path fillRule="evenodd"
                  d="M12.002 9h2v3h-3V9h1zm0 2h1v-1h-1v1zm0-4h1V4h-1zm0 10h1v-3h-1zm4.001-6h3v-1h-3zm-10 0h3v-1h-3zm3.2494-4.5c0-.414-.336-.75-.75-.75s-.75.336-.75.75.336.75.75.75.75-.336.75-.75zm8 0c0-.414-.336-.75-.75-.75s-.75.336-.75.75.336.75.75.75.75-.336.75-.75zm-1.5 8c0 .414.336.75.75.75s.75-.336.75-.75-.336-.75-.75-.75-.75.336-.75.75zm-6.5517-1.3984c-1.991 1.508-3.187 3.898-3.198 6.396l-.003.5 1 .004.003-.5c.01-2.187 1.057-4.282 2.802-5.603l.398-.302-.604-.797-.398.302z"
                  fill="#767678"></path>
          </svg>
          <span>每年</span>
        </MenuItem>
        <MenuItem divider/>
        {/* <MenuItem>
                        <DatePicker
                            placeholder="自定义"
                        // onChange={onChange}
                        // onOk={onOk}
                        />
                    </MenuItem> */}
      </ContextMenu>
    </>
  )
}

export default inject('data', 'state')(ContextMenuGroup)
